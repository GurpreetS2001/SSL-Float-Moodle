{% extends 'mainpage.html' %}

{% block title %}{{ visiting_user.username }}{% endblock %}

{% block content %}
{% if user.is_authenticated and user == request.user%}
<div id="main">
    <div class="jumbotron" style="margin:30px; padding:30px;">
      {% if user == visiting_user %} <!--dhvanit-->
      <h1 class="display-4">Hello, {{ user.first_name }} {{user.last_name}}</h1>
    {% endif %} 
        <hr>
        <h2><b>User Details</b></h2>
        <h4>Username: {{ visiting_user.username }}</h4>
        <h4>Email-id: {{ visiting_user.email }} </h4>

        {% if user != visiting_user %} <!--dhvanit-->
          <a href="{% url 'direct_message' username=visiting_user.username %}">Direct Message</a>
        <hr>
        <h2><b>Course Details</b></h2>

        <h3>Teaching Courses</h3> <!--dhvanit-->
        {% for course in teacher_courses %}
        {{course.code}}: {{course.name}}<br>
        {% endfor %}
        
        <h3>Registered for Courses</h3> <!--dhvanit-->
        {% for course in learner_courses %}
        {{course.code}}: {{course.name}}<br>
        {% endfor %}

        {% endif %} <!--dhvanit-->

        
        {% if user == visiting_user %} <!--dhvanit-->
          <p class="lead">
            <a class="btn btn-primary btn-lg" href="{% url 'updateProfile' %}" role="button">Edit Profile</a>
          </p>  <!--dhvanit-->
        

        <!-- <h4>Username: {{ user.username }}</h4>
        <h4>Email-id: {{ user.email }} </h4>
        <p class="lead">
          <a class="btn btn-primary btn-lg" href="{% url 'updateProfile' %}" role="button">Edit Profile</a>
        </p> -->

        <hr class="my-4">
        <h2><b>Course Details</b></h2>
        <h3>Teaching Courses</h3> <!--dhvanit-->
        {% for course in teacher_courses %}
        <a href="{% url 'course_page' name=course.name lecture_num=-1%}">{{course.code}}: {{course.name}}</a><br>
        {% endfor %}
        
        <h3>Registered for Courses</h3> <!--dhvanit-->
        {% for course in learner_courses %}
        <a href="{% url 'course_page' name=course.name lecture_num=-1%}">{{course.code}}: {{course.name}}</a><br>
        {% endfor %}

        {% endif %}
      </div>
</div>
{% else %}
<div class="alert alert-danger" role="alert" style="margin-left: 20%; margin-top: 20px;">
    Invalid Access Attempt!
  </div>
{% endif %}
{% endblock %}